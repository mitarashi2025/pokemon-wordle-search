# ポケモンWordle検索ツール 詳細設計書

## 1. コンポーネント設計

### 1.1 コンポーネント構成
```
App
├── ヘッダー
├── 検索セクション
│   ├── 位置指定入力
│   ├── 包含文字入力
│   └── 除外文字入力
├── 検索結果一覧
└── ポケモン詳細モーダル
```

### 1.2 各コンポーネントの責務

#### 1.2.1 Appコンポーネント
- アプリケーションのルートコンポーネント
- 状態管理
  - 検索条件
  - 検索結果
  - 選択中のポケモン
- イベントハンドリング
- レイアウト制御

#### 1.2.2 検索セクション
- 入力フォームの表示
- 入力値の検証
- 検索条件の更新

#### 1.2.3 検索結果一覧
- フィルタリングされたポケモン一覧の表示
- クリックイベントの処理

#### 1.2.4 ポケモン詳細モーダル
- 選択されたポケモンの詳細情報表示
- モーダルの表示制御

## 2. データ設計

### 2.1 データ構造

#### 2.1.1 ポケモンデータ
```typescript
interface Pokemon {
  id: number;
  japaneseName: string;
  types: string[];
}
```

#### 2.1.2 検索条件
```typescript
interface SearchConditions {
  exactMatches: string[];  // 位置指定（5文字分）
  containsLetters: string; // 包含文字
  excludesLetters: string; // 除外文字
}
```

### 2.2 データフロー

1. 初期データ読み込み
   - 静的JSONファイルから全ポケモンデータを読み込み
   - 5文字のポケモンのみをフィルタリング

2. 検索処理
   - 位置指定によるフィルタリング
   - 包含文字によるフィルタリング
   - 除外文字によるフィルタリング

3. 詳細情報取得
   - ポケモン選択時にPokeAPIから詳細情報を取得
   - キャッシュによる重複取得の防止

## 3. 画面設計

### 3.1 レイアウト
- ヘッダー: アプリケーションタイトル
- メインコンテンツ
  - 検索フォーム（上部）
  - 検索結果一覧（中央）
- フッター: 著作権表示

### 3.2 レスポンシブデザイン
- デスクトップ: 3カラムレイアウト
- タブレット: 2カラムレイアウト
- モバイル: 1カラムレイアウト

## 4. 機能詳細

### 4.1 検索機能

#### 4.1.1 位置指定検索
- 入力制限: ひらがな・カタカナのみ
- 最大文字数: 1文字
- 入力位置: 5つの入力フィールド

#### 4.1.2 包含文字検索
- 入力制限: ひらがな・カタカナのみ
- 最大文字数: 制限なし
- 検索ロジック: すべての文字が含まれるポケモンを抽出

#### 4.1.3 除外文字検索
- 入力制限: ひらがな・カタカナのみ
- 最大文字数: 制限なし
- 検索ロジック: いずれの文字も含まれないポケモンを抽出

### 4.2 表示機能

#### 4.2.1 検索結果一覧
- 表示項目: ポケモン名
- ソート: 図鑑番号順
- ページング: スクロールによる無限ロード

#### 4.2.2 詳細情報表示
- 表示項目
  - ポケモン名
  - 図鑑番号
  - 世代
  - タイプ
  - 公式図鑑リンク
- 表示形式: モーダルウィンドウ

## 5. エラー処理

### 5.1 入力エラー
- 不正な文字種の入力
- 最大文字数超過

### 5.2 APIエラー
- 通信エラー
- データ取得失敗

### 5.3 表示エラー
- データ不整合
- レンダリングエラー

## 6. パフォーマンス最適化

### 6.1 データ最適化
- 静的データの事前フィルタリング
- メモ化による再計算の防止

### 6.2 レンダリング最適化
- 仮想スクロールの実装
- 不要な再レンダリングの防止 